<div class="ui segment">
    <div class="ui list">
        <div class="header">Most Popular Pages</div>

        {% for pageData in symedit_analytics_report('popular_pages', { max: 5 }) %}
            {% set page = pageData.object %}
            <div class="item">
                <a target="_blank" href="{{ path(page.route) }}">
                    <div class="ui label">
                        {{ pageData.visits|number_format }}
                    </div>

                    {{ page.title }}
                </a>
            </div>
        {% endfor %}
    </div>
</div>

{% if route_exists('blog_slug_view') %}
<div class="ui segment">
    <div class="ui list">
        <div class="header">Most Popular Posts</div>

        {% for postData in symedit_analytics_report('popular_posts', { max: 5 }) %}
            {% set post = postData.object %}
            <div class="item">
                <a target="_blank" href="{{ path('blog_slug_view', {slug: post.slug}) }}">
                    <div class="ui label">
                        {{ postData.visits|number_format }}
                    </div>

                    {{ post.title }}
                </a>
            </div>
        {% else %}
            <div class="list-group-item">No Posts to Display</div>
        {% endfor %}
    </div>
</div>
{% endif %}
